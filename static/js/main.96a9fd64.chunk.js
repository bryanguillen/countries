(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{29:function(e,n,t){},32:function(e,n,t){},34:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){},44:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(16),o=t.n(a),i=(t(29),t(12)),s=t(2),u=t(17),l=t.n(u),j=t(20),d=t(9),b=t(21),m=(t(31),t(32),t(0));function h(e){var n=e.capital,t=e.flag,r=e.name,c=e.onClick,a=e.population,o=e.region;return Object(m.jsxs)("div",{className:"country-card",onClick:c,children:[Object(m.jsx)("div",{className:"country-card-flag-container",children:Object(m.jsx)(b.LazyLoadImage,{alt:"".concat(r," flag"),className:"country-card-flag",effect:"blur",src:t})}),Object(m.jsxs)("div",{className:"country-card-info-container",children:[Object(m.jsx)("div",{className:"country-card-country-name",children:r}),Object(m.jsxs)("div",{className:"country-card-data-container",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"country-card-data-text-bold",children:"Population: "}),a.toLocaleString("en-us")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"country-card-data-text-bold",children:"Region: "}),o]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"country-card-data-text-bold",children:"Capital: "}),n]})]})]})]})}t(34);function f(e){var n=e.countries,t=Object(s.f)();return Object(m.jsx)("div",{className:"countries-container",children:n.map((function(e,n){return Object(m.jsx)("div",{className:"country-card-wrapper",children:Object(m.jsx)(h,{capital:e.capital,flag:e.flag,name:e.name,onClick:function(){return t.push("/country/".concat(e.name))},population:e.population,region:e.region})},n)}))})}t(40);function O(e){var n=e.onChange,t=e.value;return Object(m.jsxs)("div",{className:"filter-countries-text-input-container",children:[Object(m.jsx)("label",{className:"filter-countries-text-label",htmlFor:"filter-countries-text-input",children:"Filter Text Input"}),Object(m.jsx)("input",{className:"filter-countries-text-input",id:"filter-countries-text-input",name:"filter-countries-text-input",onChange:n,value:t,placeholder:"e.g. Brazil"})]})}t(41);function p(e){var n=e.onChange,t=e.options,r=e.value;return Object(m.jsxs)("select",{value:r,className:"filter-region-dropdown",onChange:n,children:[Object(m.jsx)("option",{value:"",children:"None"}),t.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))]})}var v=t(24);function g(e){var n=e.map((function(e){return e.region}));return Object(v.a)(new Set(n)).filter((function(e){return""!==e}))}function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=n.toLowerCase();return""!==n.trim()?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e}function y(e,n){return""!==n?e.filter((function(e){return e.region===n})):e}var N=t(7),C=Object(r.createContext)(),F=Object(r.createContext)(),R=function(e,n){switch(n.type){case"LOAD_COUNTRIES":var t=n.payload.countries;return Object(N.a)(Object(N.a)({},e),{},{countries:t});case"UPDATE_COUNTRY_FILTER":var r=n.payload.countryFilter;return Object(N.a)(Object(N.a)({},e),{},{home:Object(N.a)(Object(N.a)({},e.home),{},{filterCountriesValue:r})});case"UPDATE_REGION_FILTER":var c=n.payload.regionFilter;return Object(N.a)(Object(N.a)({},e),{},{home:Object(N.a)(Object(N.a)({},e.home),{},{filterRegionValue:c})});default:throw new Error("Unknown action: ".concat(n.type))}},I={countries:[],home:{filterCountriesValue:"",filterRegionValue:""}},w=function(e){var n=e.children,t=Object(r.useReducer)(R,I),c=Object(d.a)(t,2),a=c[0],o=c[1];return Object(m.jsx)(F.Provider,{value:o,children:Object(m.jsx)(C.Provider,{value:a,children:n})})},E=function(){return Object(r.useContext)(C)};t(42);function T(e){var n=e.countries,t=e.onChangeForCountriesInput,r=e.onChangeForRegionInput,c=e.regions,a=e.valueForFilterCountries,o=e.valueForFilterRegion,i=function(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return x(y(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),n)}(n,o,a);return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)(L,{onChangeForCountriesInput:t,onChangeForRegionInput:r,optionsForRegionDropdown:c,valueForFilterCountries:a,valueForFilterRegion:o}),Object(m.jsx)(f,{countries:i})]})}function L(e){var n=e.onChangeForCountriesInput,t=e.onChangeForRegionInput,r=e.optionsForRegionDropdown,c=e.valueForFilterCountries,a=e.valueForFilterRegion;return Object(m.jsxs)("div",{className:"home-form-controls",children:[Object(m.jsx)(O,{onChange:n,value:c}),Object(m.jsx)(p,{onChange:t,options:r,value:a})]})}function P(){var e=Object(r.useContext)(F),n=E(),t=n.countries,c=n.home,a=c.filterRegionValue,o=c.filterCountriesValue,i=Object(r.useState)(!0),s=Object(d.a)(i,2),u=s[0],b=s[1];return Object(r.useEffect)((function(){Object(j.a)(l.a.mark((function n(){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t.length){n.next=14;break}return n.prev=1,n.next=4,fetch("https://restcountries.com/v2/all");case 4:return r=n.sent,n.next=7,r.json();case 7:c=n.sent,e({type:"LOAD_COUNTRIES",payload:{countries:c}}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0);case 14:b(!1);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})))()}),[]),Object(m.jsx)(m.Fragment,{children:!u&&t.length>0?Object(m.jsx)(T,{countries:t,onChangeForCountriesInput:function(n){return e({type:"UPDATE_COUNTRY_FILTER",payload:{countryFilter:n.target.value}})},onChangeForRegionInput:function(n){return e({type:"UPDATE_REGION_FILTER",payload:{regionFilter:n.target.value}})},regions:g(t),valueForFilterCountries:o,valueForFilterRegion:a}):Object(m.jsx)("div",{children:"loading..."})})}t(43);function S(e){var n=e.flag,t=e.nativeName,r=e.population,c=e.region,a=e.subregion,o=e.capital,i=e.name;return Object(m.jsxs)("div",{className:"country-summary",children:[Object(m.jsx)("div",{className:"country-summary-flag-parent-container",children:Object(m.jsx)("div",{className:"country-summary-flag-container",children:Object(m.jsx)("img",{src:n,className:"country-summary-flag",alt:"".concat(i," flag")})})}),Object(m.jsxs)("div",{className:"country-summary-text-container",children:[Object(m.jsx)("div",{className:"country-summary-name",children:i}),Object(m.jsxs)("div",{className:"country-summary-other-info-container",children:[Object(m.jsxs)("div",{className:"country-summary-other-info",children:["Native Name: ",t]}),Object(m.jsxs)("div",{className:"country-summary-other-info",children:["Population: ",r.toLocaleString("en-us")]}),Object(m.jsxs)("div",{className:"country-summary-other-info",children:["Region: ",c]}),Object(m.jsxs)("div",{className:"country-summary-other-info",children:["Sub Region: ",a]}),Object(m.jsxs)("div",{className:"country-summary-other-info",children:["Capital: ",o]})]})]})]})}function _(){var e=E().countries,n=Object(s.g)().name,t=Object(s.f)(),c=Object(r.useState)({}),a=Object(d.a)(c,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){if(0===e.length)return t.push("/");i(e.find((function(e){return e.name.trim()===n})))}),[]),Object(m.jsx)(m.Fragment,{children:o.name?Object(m.jsx)(S,{flag:o.flag,nativeName:o.nativeName,population:o.population,region:o.region,subregion:o.subregion,capital:o.capital,name:o.name}):Object(m.jsx)("div",{children:"loading..."})})}t(44);function k(){return Object(m.jsx)("div",{className:"nav-bar",children:Object(m.jsx)("div",{className:"nav-bar-text",children:"Where in the world?"})})}var D=function(){return Object(m.jsx)(i.a,{children:Object(m.jsx)(w,{children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(k,{}),Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{component:_,path:"/country/:name"}),Object(m.jsx)(s.a,{component:P,path:"/"})]})]})})})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(D,{})}),document.getElementById("root")),U()}},[[45,1,2]]]);
//# sourceMappingURL=main.96a9fd64.chunk.js.map