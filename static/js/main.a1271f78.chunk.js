(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{28:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(19),i=n.n(a),o=(n(28),n(12)),s=n(2),u=n(16),l=n.n(u),j=n(20),d=n(8),b=(n(30),n(0));function m(e){var t=e.capital,n=e.flag,r=e.name,c=e.onClick,a=e.population,i=e.region;return Object(b.jsxs)("div",{className:"country-card",onClick:c,children:[Object(b.jsx)("div",{className:"country-card-flag-container",children:Object(b.jsx)("img",{className:"country-card-flag",src:n,alt:"".concat(r," flag")})}),Object(b.jsxs)("div",{className:"country-card-info-container",children:[Object(b.jsx)("div",{className:"country-card-country-name",children:r}),Object(b.jsxs)("div",{className:"country-card-data-container",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"country-card-data-text-bold",children:"Population: "}),a]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"country-card-data-text-bold",children:"Region: "}),i]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"country-card-data-text-bold",children:"Capital: "}),t]})]})]})]})}n(32);function h(e){var t=e.countries,n=Object(s.f)();return Object(b.jsx)("div",{className:"countries-container",children:t.map((function(e,t){return Object(b.jsx)("div",{className:"country-card-wrapper",children:Object(b.jsx)(m,{capital:e.capital,flag:e.flag,name:e.name,onClick:function(){return n.push("/country/".concat(e.name))},population:e.population,region:e.region})},t)}))})}n(38);function O(e){var t=e.onChange,n=e.value;return Object(b.jsxs)("div",{className:"filter-countries-text-input-container",children:[Object(b.jsx)("label",{className:"filter-countries-text-label",htmlFor:"filter-countries-text-input",children:"Filter Text Input"}),Object(b.jsx)("input",{className:"filter-countries-text-input",id:"filter-countries-text-input",name:"filter-countries-text-input",onChange:t,value:n,placeholder:"e.g. Brazil"})]})}n(39);function f(e){var t=e.onChange,n=e.options,r=e.value;return Object(b.jsxs)("select",{value:r,className:"filter-region-dropdown",onChange:t,children:[Object(b.jsx)("option",{value:"",children:"None"}),n.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})}var p=n(23);function v(e){var t=e.map((function(e){return e.region}));return Object(p.a)(new Set(t)).filter((function(e){return""!==e}))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.toLowerCase();return""!==t.trim()?e.filter((function(e){return e.name.toLowerCase().includes(n)})):e}function x(e,t){return""!==t?e.filter((function(e){return e.region===t})):e}var y=n(7),N=Object(r.createContext)(),C=Object(r.createContext)(),F=function(e,t){switch(t.type){case"LOAD_COUNTRIES":var n=t.payload.countries;return Object(y.a)(Object(y.a)({},e),{},{countries:n});case"UPDATE_COUNTRY_FILTER":var r=t.payload.countryFilter;return Object(y.a)(Object(y.a)({},e),{},{home:Object(y.a)(Object(y.a)({},e.home),{},{filterCountriesValue:r})});case"UPDATE_REGION_FILTER":var c=t.payload.regionFilter;return Object(y.a)(Object(y.a)({},e),{},{home:Object(y.a)(Object(y.a)({},e.home),{},{filterRegionValue:c})});default:throw new Error("Unknown action: ".concat(t.type))}},R=function(e){var t=e.initialState,n=e.children,c=Object(r.useReducer)(F,t),a=Object(d.a)(c,2),i=a[0],o=a[1];return Object(b.jsx)(C.Provider,{value:o,children:Object(b.jsx)(N.Provider,{value:i,children:n})})},I=function(){return Object(r.useContext)(N)};n(40);function w(e){var t=e.countries,n=e.onChangeForCountriesInput,r=e.onChangeForRegionInput,c=e.regions,a=e.valueForFilterCountries,i=e.valueForFilterRegion,o=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return g(x(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),t)}(t,i,a);return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)(E,{onChangeForCountriesInput:n,onChangeForRegionInput:r,optionsForRegionDropdown:c,valueForFilterCountries:a,valueForFilterRegion:i}),Object(b.jsx)(h,{countries:o})]})}function E(e){var t=e.onChangeForCountriesInput,n=e.onChangeForRegionInput,r=e.optionsForRegionDropdown,c=e.valueForFilterCountries,a=e.valueForFilterRegion;return Object(b.jsxs)("div",{className:"home-form-controls",children:[Object(b.jsx)(O,{onChange:t,value:c}),Object(b.jsx)(f,{onChange:n,options:r,value:a})]})}function T(){var e=Object(r.useContext)(C),t=I(),n=t.countries,c=t.home,a=c.filterRegionValue,i=c.filterCountriesValue,o=Object(r.useState)(!0),s=Object(d.a)(o,2),u=s[0],m=s[1];return Object(r.useEffect)((function(){Object(j.a)(l.a.mark((function t(){var r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.length){t.next=8;break}return t.next=3,fetch("https://restcountries.com/v2/all");case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,e({type:"LOAD_COUNTRIES",payload:{countries:c}});case 8:m(!1);case 9:case"end":return t.stop()}}),t)})))()}),[]),Object(b.jsx)(b.Fragment,{children:!u&&n.length>0?Object(b.jsx)(w,{countries:n,onChangeForCountriesInput:function(t){return e({type:"UPDATE_COUNTRY_FILTER",payload:{countryFilter:t.target.value}})},onChangeForRegionInput:function(t){return e({type:"UPDATE_REGION_FILTER",payload:{regionFilter:t.target.value}})},regions:v(n),valueForFilterCountries:i,valueForFilterRegion:a}):Object(b.jsx)("div",{children:"loading..."})})}n(41);function S(e){var t=e.flag,n=e.nativeName,r=e.population,c=e.region,a=e.subregion,i=e.capital,o=e.name;return Object(b.jsxs)("div",{className:"country-summary",children:[Object(b.jsx)("div",{className:"country-summary-flag-parent-container",children:Object(b.jsx)("div",{className:"country-summary-flag-container",children:Object(b.jsx)("img",{src:t,className:"country-summary-flag",alt:"".concat(o," flag")})})}),Object(b.jsxs)("div",{className:"country-summary-text-container",children:[Object(b.jsx)("div",{className:"country-summary-name",children:o}),Object(b.jsxs)("div",{className:"country-summary-other-info-container",children:[Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Native Name: ",n]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Population: ",r]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Region: ",c]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Sub Region: ",a]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Capital: ",i]})]})]})]})}function L(){var e=I().countries,t=Object(s.g)().name,n=Object(s.f)(),c=Object(r.useState)({}),a=Object(d.a)(c,2),i=a[0],o=a[1],u=Object(r.useState)(),l=Object(d.a)(u,2),j=l[0],m=l[1];return Object(r.useEffect)((function(){if(0===e.length)return n.push("/");o(e.find((function(e){return e.name.trim()===t}))),m(!1)}),[]),Object(b.jsx)(b.Fragment,{children:j?Object(b.jsx)("div",{children:"loading..."}):Object(b.jsx)(S,{flag:i.flag,nativeName:i.nativeName,population:i.population,region:i.region,subregion:i.subregion,capital:i.capital,name:i.name})})}n(42);function P(){return Object(b.jsx)("div",{className:"nav-bar",children:Object(b.jsx)("div",{className:"nav-bar-text",children:"Where in the world?"})})}var _=function(){return Object(b.jsx)(o.a,{children:Object(b.jsx)(R,{initialState:{countries:[],home:{filterCountriesValue:"",filterRegionValue:""}},children:Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(P,{}),Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{component:L,path:"/country/:name"}),Object(b.jsx)(s.a,{component:T,path:"/"})]})]})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(_,{})}),document.getElementById("root")),D()}},[[43,1,2]]]);
//# sourceMappingURL=main.a1271f78.chunk.js.map