(this.webpackJsonpcountries=this.webpackJsonpcountries||[]).push([[0],{28:function(e,n,t){},30:function(e,n,t){},32:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){},42:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),a=t(19),o=t.n(a),i=(t(28),t(12)),s=t(2),u=t(16),l=t.n(u),j=t(20),d=t(9),b=(t(30),t(0));function m(e){var n=e.capital,t=e.flag,r=e.name,c=e.onClick,a=e.population,o=e.region;return Object(b.jsxs)("div",{className:"country-card",onClick:c,children:[Object(b.jsx)("div",{className:"country-card-flag-container",children:Object(b.jsx)("img",{className:"country-card-flag",src:t,alt:"".concat(r," flag")})}),Object(b.jsxs)("div",{className:"country-card-info-container",children:[Object(b.jsx)("div",{className:"country-card-country-name",children:r}),Object(b.jsxs)("div",{className:"country-card-data-container",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"country-card-data-text-bold",children:"Population: "}),a.toLocaleString("en-us")]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"country-card-data-text-bold",children:"Region: "}),o]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"country-card-data-text-bold",children:"Capital: "}),n]})]})]})]})}t(32);function h(e){var n=e.countries,t=Object(s.f)();return Object(b.jsx)("div",{className:"countries-container",children:n.map((function(e,n){return Object(b.jsx)("div",{className:"country-card-wrapper",children:Object(b.jsx)(m,{capital:e.capital,flag:e.flag,name:e.name,onClick:function(){return t.push("/country/".concat(e.name))},population:e.population,region:e.region})},n)}))})}t(38);function f(e){var n=e.onChange,t=e.value;return Object(b.jsxs)("div",{className:"filter-countries-text-input-container",children:[Object(b.jsx)("label",{className:"filter-countries-text-label",htmlFor:"filter-countries-text-input",children:"Filter Text Input"}),Object(b.jsx)("input",{className:"filter-countries-text-input",id:"filter-countries-text-input",name:"filter-countries-text-input",onChange:n,value:t,placeholder:"e.g. Brazil"})]})}t(39);function O(e){var n=e.onChange,t=e.options,r=e.value;return Object(b.jsxs)("select",{value:r,className:"filter-region-dropdown",onChange:n,children:[Object(b.jsx)("option",{value:"",children:"None"}),t.map((function(e){return Object(b.jsx)("option",{value:e,children:e},e)}))]})}var p=t(23);function v(e){var n=e.map((function(e){return e.region}));return Object(p.a)(new Set(n)).filter((function(e){return""!==e}))}function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=n.toLowerCase();return""!==n.trim()?e.filter((function(e){return e.name.toLowerCase().includes(t)})):e}function x(e,n){return""!==n?e.filter((function(e){return e.region===n})):e}var y=t(7),N=Object(r.createContext)(),C=Object(r.createContext)(),F=function(e,n){switch(n.type){case"LOAD_COUNTRIES":var t=n.payload.countries;return Object(y.a)(Object(y.a)({},e),{},{countries:t});case"UPDATE_COUNTRY_FILTER":var r=n.payload.countryFilter;return Object(y.a)(Object(y.a)({},e),{},{home:Object(y.a)(Object(y.a)({},e.home),{},{filterCountriesValue:r})});case"UPDATE_REGION_FILTER":var c=n.payload.regionFilter;return Object(y.a)(Object(y.a)({},e),{},{home:Object(y.a)(Object(y.a)({},e.home),{},{filterRegionValue:c})});default:throw new Error("Unknown action: ".concat(n.type))}},R={countries:[],home:{filterCountriesValue:"",filterRegionValue:""}},I=function(e){var n=e.children,t=Object(r.useReducer)(F,R),c=Object(d.a)(t,2),a=c[0],o=c[1];return Object(b.jsx)(C.Provider,{value:o,children:Object(b.jsx)(N.Provider,{value:a,children:n})})},w=function(){return Object(r.useContext)(N)};t(40);function E(e){var n=e.countries,t=e.onChangeForCountriesInput,r=e.onChangeForRegionInput,c=e.regions,a=e.valueForFilterCountries,o=e.valueForFilterRegion,i=function(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return g(x(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),n)}(n,o,a);return Object(b.jsxs)("div",{className:"home",children:[Object(b.jsx)(T,{onChangeForCountriesInput:t,onChangeForRegionInput:r,optionsForRegionDropdown:c,valueForFilterCountries:a,valueForFilterRegion:o}),Object(b.jsx)(h,{countries:i})]})}function T(e){var n=e.onChangeForCountriesInput,t=e.onChangeForRegionInput,r=e.optionsForRegionDropdown,c=e.valueForFilterCountries,a=e.valueForFilterRegion;return Object(b.jsxs)("div",{className:"home-form-controls",children:[Object(b.jsx)(f,{onChange:n,value:c}),Object(b.jsx)(O,{onChange:t,options:r,value:a})]})}function L(){var e=Object(r.useContext)(C),n=w(),t=n.countries,c=n.home,a=c.filterRegionValue,o=c.filterCountriesValue,i=Object(r.useState)(!0),s=Object(d.a)(i,2),u=s[0],m=s[1];return Object(r.useEffect)((function(){Object(j.a)(l.a.mark((function n(){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t.length){n.next=8;break}return n.next=3,fetch("https://restcountries.com/v2/all");case 3:return r=n.sent,n.next=6,r.json();case 6:c=n.sent,e({type:"LOAD_COUNTRIES",payload:{countries:c}});case 8:m(!1);case 9:case"end":return n.stop()}}),n)})))()}),[]),Object(b.jsx)(b.Fragment,{children:!u&&t.length>0?Object(b.jsx)(E,{countries:t,onChangeForCountriesInput:function(n){return e({type:"UPDATE_COUNTRY_FILTER",payload:{countryFilter:n.target.value}})},onChangeForRegionInput:function(n){return e({type:"UPDATE_REGION_FILTER",payload:{regionFilter:n.target.value}})},regions:v(t),valueForFilterCountries:o,valueForFilterRegion:a}):Object(b.jsx)("div",{children:"loading..."})})}t(41);function P(e){var n=e.flag,t=e.nativeName,r=e.population,c=e.region,a=e.subregion,o=e.capital,i=e.name;return Object(b.jsxs)("div",{className:"country-summary",children:[Object(b.jsx)("div",{className:"country-summary-flag-parent-container",children:Object(b.jsx)("div",{className:"country-summary-flag-container",children:Object(b.jsx)("img",{src:n,className:"country-summary-flag",alt:"".concat(i," flag")})})}),Object(b.jsxs)("div",{className:"country-summary-text-container",children:[Object(b.jsx)("div",{className:"country-summary-name",children:i}),Object(b.jsxs)("div",{className:"country-summary-other-info-container",children:[Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Native Name: ",t]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Population: ",r.toLocaleString("en-us")]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Region: ",c]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Sub Region: ",a]}),Object(b.jsxs)("div",{className:"country-summary-other-info",children:["Capital: ",o]})]})]})]})}function S(){var e=w().countries,n=Object(s.g)().name,t=Object(s.f)(),c=Object(r.useState)({}),a=Object(d.a)(c,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){if(0===e.length)return t.push("/");i(e.find((function(e){return e.name.trim()===n})))}),[]),Object(b.jsx)(b.Fragment,{children:o.name?Object(b.jsx)(P,{flag:o.flag,nativeName:o.nativeName,population:o.population,region:o.region,subregion:o.subregion,capital:o.capital,name:o.name}):Object(b.jsx)("div",{children:"loading..."})})}t(42);function _(){return Object(b.jsx)("div",{className:"nav-bar",children:Object(b.jsx)("div",{className:"nav-bar-text",children:"Where in the world?"})})}var D=function(){return Object(b.jsx)(i.a,{children:Object(b.jsx)(I,{children:Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(_,{}),Object(b.jsxs)(s.c,{children:[Object(b.jsx)(s.a,{component:S,path:"/country/:name"}),Object(b.jsx)(s.a,{component:L,path:"/"})]})]})})})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,44)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),U()}},[[43,1,2]]]);
//# sourceMappingURL=main.ce649d59.chunk.js.map